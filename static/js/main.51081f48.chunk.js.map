{"version":3,"sources":["App.js","serviceWorker.js","index.js"],"names":["Leaderboard","className","React","Component","Cell","value","this","props","isRevealed","isMine","neighbour","isFlagged","onClick","cMenu","onContextMenu","getValue","Board","state","boardData","initBoardData","height","width","mines","gameStatus","mineCount","time","hasStarted","myInterval","tick","setState","setInterval","data","mineArray","map","datarow","dataitem","push","dimension","Math","floor","random","createEmptyArray","plantMines","getNeighbours","i","j","x","y","isEmpty","randomx","randomy","minesPlanted","getRandomNumber","updatedData","mine","traverseBoard","el","revealEmpty","revealBoard","clearInterval","getHidden","length","sendScoreToAPI","getFlags","e","preventDefault","getMines","FlagArray","JSON","stringify","interval","key","_handleCellClick","_handleContextMenu","renderBoard","Game","playerName","prompt","dataToSave","name","fetch","method","headers","body","then","res","json","result","alert","error","console","log","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.51081f48.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'react'\r\n\r\nimport './App.scss';\r\n\r\n\r\nclass Leaderboard extends React.Component{\r\n    \r\n    render(){\r\n       return( <div className=\"leaderboard\">\r\n           <div className=\"leaderboard-container\">\r\n            <div className=\"leaderboard-title\">\r\n                <span>Leaderboard</span>\r\n            </div>\r\n            <div className=\"leaderboard-content\">\r\n                <div className=\"leaderboard-player\">\r\n                   <span>Cristi : 60</span>\r\n                  \r\n                </div>\r\n                <div className=\"leaderboard-player\">\r\n                   <span>Iulia : 90</span>\r\n                   \r\n                </div>\r\n                <div className=\"leaderboard-player\">\r\n                   <span>Ioana: 102</span>\r\n                   \r\n                </div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n       )}\r\n}\r\n\r\n// Cell Class\r\nclass Cell extends React.Component {\r\n  getValue() {\r\n    const {value} = this.props;\r\n    \r\n    if (!value.isRevealed) {\r\n      return this.props.value.isFlagged ? \"üè≥Ô∏è\" : null;\r\n    }\r\n    if (value.isMine) {\r\n      return \"üí£\";\r\n    }\r\n    if (value.neighbour === 0) {\r\n      return null;\r\n    }\r\n    return value.neighbour;\r\n  }\r\n\r\n  render() {\r\n    const {value, onClick, cMenu} = this.props;\r\n    let className =\r\n      \"cell\" +\r\n      (value.isRevealed ? \"\" : \" hidden\") +\r\n      (value.isMine ? \" is-mine\" : \"\") +\r\n      (value.isFlagged ? \" is-flag\" : \"\");\r\n\r\n    return (\r\n      <div\r\n        onClick={onClick}\r\n        className={className}\r\n        onContextMenu={cMenu}\r\n      >\r\n        {this.getValue()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Board Class\r\nclass Board extends React.Component {\r\n  state = {\r\n        boardData: this.initBoardData(this.props.height, this.props.width, this.props.mines),\r\n        gameStatus: \"Game in progress\",\r\n        mineCount: this.props.mines,\r\n        time: 0,\r\n        hasStarted:false,\r\n        myInterval:0,\r\n    };\r\n\r\n    tick=()=>{\r\n      if (this.state.gameStatus===\"Game in progress\"){\r\n      \r\n\r\n      this.setState({myInterval:setInterval(()=>{\r\n        this.setState({\r\n          time:this.state.time+1\r\n        })\r\n      },1000)})\r\n     \r\n\r\n\r\n\r\n    }\r\n    }\r\n\r\n\r\n\r\n    \r\n\r\n    /* Helper Functions */\r\n\r\n    // get mines\r\n    getMines(data) {\r\n        let mineArray = [];\r\n\r\n        data.map(datarow => {\r\n            datarow.map((dataitem) => {\r\n                if (dataitem.isMine) {\r\n                    mineArray.push(dataitem);\r\n                }\r\n            });\r\n        });\r\n\r\n        return mineArray;\r\n    }\r\n\r\n    // get Flags\r\n    getFlags(data) {\r\n        let mineArray = [];\r\n\r\n        data.map(datarow => {\r\n            datarow.map((dataitem) => {\r\n                if (dataitem.isFlagged) {\r\n                    mineArray.push(dataitem);\r\n                }\r\n            });\r\n        });\r\n\r\n        return mineArray;\r\n    }\r\n\r\n    // get Hidden cells\r\n    getHidden(data) {\r\n        let mineArray = [];\r\n\r\n        data.map(datarow => {\r\n            datarow.map((dataitem) => {\r\n                if (!dataitem.isRevealed) {\r\n                    mineArray.push(dataitem);\r\n                }\r\n            });\r\n        });\r\n\r\n        return mineArray;\r\n    }\r\n\r\n    // get random number given a dimension\r\n    getRandomNumber(dimension) {\r\n        // return Math.floor(Math.random() * dimension);\r\n        return Math.floor((Math.random() * 1000) + 1) % dimension;\r\n    }\r\n\r\n    // Gets initial board data\r\n    initBoardData(height, width, mines) {\r\n        let data = this.createEmptyArray(height, width);\r\n        data = this.plantMines(data, height, width, mines);\r\n        data = this.getNeighbours(data, height, width);\r\n        return data;\r\n    }\r\n    createEmptyArray(height, width) {\r\n        let data = [];\r\n\r\n        for (let i = 0; i < height; i++) {\r\n            data.push([]);\r\n            for (let j = 0; j < width; j++) {\r\n                data[i][j] = {\r\n                    x: i,\r\n                    y: j,\r\n                    isMine: false,\r\n                    neighbour: 0,\r\n                    isRevealed: false,\r\n                    isEmpty: false,\r\n                    isFlagged: false,\r\n                };\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n\r\n    // plant mines on the board\r\n    plantMines(data, height, width, mines) {\r\n        let randomx, randomy, minesPlanted = 0;\r\n\r\n        while (minesPlanted < mines) {\r\n            randomx = this.getRandomNumber(width);\r\n            randomy = this.getRandomNumber(height);\r\n            if (!(data[randomx][randomy].isMine)) {\r\n                data[randomx][randomy].isMine = true;\r\n                minesPlanted++;\r\n            }\r\n        }\r\n\r\n        return (data);\r\n    }\r\n\r\n    // get number of neighbouring mines for each board cell\r\n    getNeighbours(data, height, width) {\r\n        let updatedData = data, index = 0;\r\n\r\n        for (let i = 0; i < height; i++) {\r\n            for (let j = 0; j < width; j++) {\r\n                if (data[i][j].isMine !== true) {\r\n                    let mine = 0;\r\n                    const area = this.traverseBoard(data[i][j].x, data[i][j].y, data);\r\n                    area.map(value => {\r\n                        if (value.isMine) {\r\n                            mine++;\r\n                        }\r\n                    });\r\n                    if (mine === 0) {\r\n                        updatedData[i][j].isEmpty = true;\r\n                    }\r\n                    updatedData[i][j].neighbour = mine;\r\n                }\r\n            }\r\n        }\r\n\r\n        return (updatedData);\r\n    };\r\n\r\n    // looks for neighbouring cells and returns them\r\n    traverseBoard(x, y, data) {\r\n        const el = [];\r\n\r\n        //up\r\n        if (x > 0) {\r\n            el.push(data[x - 1][y]);\r\n        }\r\n\r\n        //down\r\n        if (x < this.props.height - 1) {\r\n            el.push(data[x + 1][y]);\r\n        }\r\n\r\n        //left\r\n        if (y > 0) {\r\n            el.push(data[x][y - 1]);\r\n        }\r\n\r\n        //right\r\n        if (y < this.props.width - 1) {\r\n            el.push(data[x][y + 1]);\r\n        }\r\n\r\n        // top left\r\n        if (x > 0 && y > 0) {\r\n            el.push(data[x - 1][y - 1]);\r\n        }\r\n\r\n        // top right\r\n        if (x > 0 && y < this.props.width - 1) {\r\n            el.push(data[x - 1][y + 1]);\r\n        }\r\n\r\n        // bottom right\r\n        if (x < this.props.height - 1 && y < this.props.width - 1) {\r\n            el.push(data[x + 1][y + 1]);\r\n        }\r\n\r\n        // bottom left\r\n        if (x < this.props.height - 1 && y > 0) {\r\n            el.push(data[x + 1][y - 1]);\r\n        }\r\n\r\n        return el;\r\n    }\r\n\r\n    // reveals the whole board\r\n    revealBoard() {\r\n        let updatedData = this.state.boardData;\r\n        updatedData.map((datarow) => {\r\n            datarow.map((dataitem) => {\r\n                dataitem.isRevealed = true;\r\n            });\r\n        });\r\n        this.setState({\r\n            boardData: updatedData\r\n        })\r\n    }\r\n\r\n    /* reveal logic for empty cell */\r\n    revealEmpty(x, y, data) {\r\n        let area = this.traverseBoard(x, y, data);\r\n        area.map(value => {\r\n            if (!value.isFlagged && !value.isRevealed && (value.isEmpty || !value.isMine)) {\r\n                data[value.x][value.y].isRevealed = true;\r\n                if (value.isEmpty) {\r\n                    this.revealEmpty(value.x, value.y, data);\r\n                }\r\n            }\r\n        });\r\n        return data;\r\n\r\n    }\r\n\r\n    // Handle User Events\r\n\r\n    _handleCellClick(x, y) {\r\n\r\n        if(this.state.hasStarted===false)\r\n        {\r\n            this.setState({hasStarted:true})\r\n            this.tick()\r\n        }\r\n        // check if revealed. return if true.\r\n        if (this.state.boardData[x][y].isRevealed || this.state.boardData[x][y].isFlagged)\r\n        \r\n        return null;\r\n            \r\n        // check if mine. game over if true\r\n        if (this.state.boardData[x][y].isMine) {\r\n            this.setState({gameStatus: \"You Lost.\"});\r\n            this.revealBoard();\r\n            //oprim timerul \r\n            clearInterval(this.state.myInterval)\r\n            \r\n            //sendScoreToAPI(this.state.time);\r\n            \r\n            //alert(\"game over\");\r\n        }\r\n\r\n        let updatedData = this.state.boardData;\r\n        updatedData[x][y].isFlagged = false;\r\n        updatedData[x][y].isRevealed = true;\r\n\r\n        if (updatedData[x][y].isEmpty) {\r\n         \r\n            \r\n            updatedData = this.revealEmpty(x, y, updatedData);\r\n        }\r\n\r\n        if (this.getHidden(updatedData).length === this.props.mines) {\r\n            this.setState({mineCount: 0, gameStatus: \"You Win.\"});\r\n            this.revealBoard();\r\n            \r\n                \r\n                \r\n            clearInterval(this.state.myInterval)\r\n            \r\n          \r\n            sendScoreToAPI();\r\n        }\r\n\r\n        this.setState({\r\n            boardData: updatedData,\r\n            mineCount: this.props.mines - this.getFlags(updatedData).length,\r\n        });\r\n    }\r\n\r\n    _handleContextMenu(e, x, y) {\r\n        e.preventDefault();\r\n        let updatedData = this.state.boardData;\r\n        let mines = this.state.mineCount;\r\n\r\n        // check if already revealed\r\n        if (updatedData[x][y].isRevealed) return;\r\n\r\n        if (updatedData[x][y].isFlagged) {\r\n            updatedData[x][y].isFlagged = false;\r\n            mines++;\r\n        } else {\r\n            updatedData[x][y].isFlagged = true;\r\n            mines--;\r\n        }\r\n\r\n        if (mines === 0) {\r\n            const mineArray = this.getMines(updatedData);\r\n            const FlagArray = this.getFlags(updatedData);\r\n            if (JSON.stringify(mineArray) === JSON.stringify(FlagArray)) {\r\n                this.setState({mineCount: 0, gameStatus: \"You Win.\"});\r\n                this.revealBoard();\r\n                //alert(\"You Win\");\r\n                clearInterval(this.state.interval);\r\n                sendScoreToAPI();\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            boardData: updatedData,\r\n            mineCount: mines,\r\n        });\r\n    }\r\n\r\n    renderBoard(data) {\r\n        return data.map((datarow) => {\r\n            return datarow.map((dataitem) => {\r\n                return (\r\n                    <div key={dataitem.x * datarow.length + dataitem.y}>\r\n                        <Cell\r\n                            onClick={() => this._handleCellClick(dataitem.x, dataitem.y) } \r\n                            cMenu={(e) => this._handleContextMenu(e, dataitem.x, dataitem.y)}\r\n                            value={dataitem}\r\n                        />\r\n                        {(datarow[datarow.length - 1] === dataitem) ? <div className=\"clear\" /> : \"\"}\r\n                    </div>);\r\n            })\r\n        });\r\n\r\n    }\r\n\r\n   \r\n\r\n\r\n\r\n  render() {\r\n        return (\r\n            <div className=\"board\">\r\n                <div className=\"game-info\">\r\n                    <h1 className=\"info\">{this.state.gameStatus}</h1>\r\n                    <span className=\"info\">Mines remaining: {this.state.mineCount}</span>\r\n        <span className=\"info\">TIMER: {this.state.time}</span>\r\n                </div>\r\n                {\r\n                    this.renderBoard(this.state.boardData)\r\n                }\r\n                  \r\n                    <Leaderboard/>\r\n                \r\n               \r\n               \r\n                \r\n            </div>\r\n\r\n            \r\n        );\r\n    }\r\n}\r\n\r\n// Game Class\r\nclass Game extends React.Component {\r\n  state = {\r\n    height: 8,\r\n    width: 8,\r\n    mines: 1,\r\n    \r\n  };\r\n\r\n  render() {\r\n    const { height, width, mines } = this.state;\r\n    \r\n    return (\r\n      <div className=\"game\">\r\n        <Board height={height} width={width} mines={mines} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCell.propTypes = {\r\n  value: PropTypes.func\r\n}\r\n\r\n\r\nvar sendScoreToAPI = (time) => {\r\n    //get player name from browser prompt\r\n    var playerName = prompt(\"Congrats for winning the game! Please enter your name: \", \"yourUsername\");\r\n    if (playerName != null) {\r\n      var dataToSave = {\r\n        time: time, //replace 10 with your actual variable (probably this.state.gameScore or this.state.time)\r\n        name: playerName,\r\n       // currentTime: new Date()\r\n      };\r\n      // Actual API call\r\n      fetch(\r\n        \"http://localhost:1601/api/ms\", // replace with the url to your API\r\n        {\r\n          method: 'POST', \r\n          headers: {\r\n             'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(dataToSave)\r\n        }\r\n        )\r\n        .then(res => res.json())\r\n        .then(\r\n          (result) => {\r\n            alert('You saved your score');\r\n          },\r\n          // Note: it's important to handle errors here\r\n          (error) => {\r\n            alert('Bad API call');\r\n            console.log(error);\r\n          }\r\n        )\r\n    }\r\n  }\r\n        \r\n       /*async function postData(url = '', data = {}) {\r\n        // Default options are marked with *\r\n        const response = await fetch(url, {\r\n          method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n          mode: 'no-cors', // no-cors, *cors, same-origin\r\n          //cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n          //credentials: 'same-origin', // include, *same-origin, omit\r\n          headers: {\r\n            'Accept': 'application/json, text/plain',\r\n            'Content-Type': 'application/json;charset=UTF-8'\r\n            },\r\n\r\n         // redirect: 'follow', // manual, *follow, error\r\n         // referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\r\n          body: JSON.stringify(data) // body data type must match \"Content-Type\" header\r\n        });\r\n        return response.json(); // parses JSON response into native JavaScript objects\r\n      }\r\n      \r\n      postData('https://localhost:44368/api/ms', { name:\"test\",time:1000 })\r\n        .then(data => {\r\n          console.log(data); // JSON data parsed by `response.json()` call\r\n        });*/\r\n\r\n\r\n\r\n\r\n    \r\n\r\n  \r\n\r\n\r\n\r\n\r\n  export default Game\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport Game from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\nReactDOM.render(\r\n <Game/>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}